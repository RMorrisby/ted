<!DOCTYPE html>
<html>
<head>
<title>TED Admin</title>
</head>
    <body>
    <p>The date today is {{.Date}}</p>
    <p>And the time is {{.Time}}</p>
    <p></p>
    <div id="resultcountdiv"><span>Result count :</span><span id="resultcount"></span></div>
    
     <button onclick="getResultCount()">Get total result count</button>
<script>
    function getResultCount() {
        var e = document.getElementById("resultcount");
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState == 4 && xhr.status == 200) {
                e.textContent = " " + xhr.responseText;
            }
        }
        xhr.open("GET", "/admin/getcount", true);
        try { xhr.send(); } catch (err) { /* handle error */ }
    }
</script>
    
    <button onclick="deleteAllResults()">Delete all results</button>
<script>
    function deleteAllResults() {
        var e = document.getElementById("resultcount");
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState == 4 && xhr.status == 200) {
                e.textContent = " " + xhr.responseText;
            }
        }
        xhr.open("POST", "/admin/deleteall", true);
        try { xhr.send(); } catch (err) { /* handle error */ }
    }
</script>
</body>
</html>
